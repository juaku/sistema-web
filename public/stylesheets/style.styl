@import 'nib'

/*
	Variables
*/

mainColor	= #F05
backColor	= #FFF
back1Color	= #EEE
back2Color	= #DDD
midColor	= #888
front2Color	= #333
front1Color	= #222
frontColor	= #000
aux1color	= #181818
auxFbColor	= #3b5998

/* 
	Estilos generales

*/

placeholder()
	&::-webkit-input-placeholder
		{block}
	&:-moz-placeholder
		{block}
	&::-moz-placeholder
		{block}
	&:-ms-input-placeholder
		{block}

html
body
	height: 100%

body
	margin: 0
	background-color: backColor /*#EEE*/ /*#F7F7F7*/
	font-family: "Arial"
	color: frontColor

/* TODO: Decidir si inculir - regular selección de algunos elementos
::selection
	background: rgba(255,0,85,.99) // Seleccion sin opacidad: 1=auto-opacidad
	color: backColor
	mix-blend-mode: normal
	opacity: 1
*/

section#view-controls
	position: fixed
	height: 82.5vh
	max-height: 54vw
	min-height: 30vw

input#title
	font-size: 5vw
	font-weight: normal
	letter-spacing: -0.033em
	overflow: hidden
	white-space: nowrap
	text-overflow: ellipsis
	width: 36vw
	outline: 0
	border: 0
	border-radius: 0
	background-color: backColor
	color: frontColor
	display: block
	text-align: right
	position: absolute
	top: 50%
	transform: translate(0,-50%)

input[type=text]::-ms-clear
	display: none
	width : 0
	height: 0

input[type=text]::-ms-reveal
	display: none
	width : 0
	height: 0

input[type="search"]::-webkit-search-decoration,
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-results-button,
input[type="search"]::-webkit-search-results-decoration
	display: none

input#title:hover
	background-color: back1Color

input#title:focus
	background-color: back1Color
	color: frontColor

input#title
	+placeholder()
		color: frontColor
		
input#title:hover
	+placeholder()
		color: rgba(0,0,0,0.5)

input#title:focus
input#title:focus:hover
	+placeholder()
		color: transparent

h3
	font-weight: normal
	letter-spacing: -0.03em
	margin: 0.3em 0 0.3em 0

/* Estilos estructurales */

#box
	display: table
	width: 100%
	height: 100%

aside
	display: table-cell
	vertical-align: top
	text-align: right

main
	display: table-cell
	width: 56vw
	font-size: 2.5vmin

/* Estilos modulares */
		
/* Globales */
.at
	font-family: "Verdana"
		
/* Grupales */

#account
	width: 36vw
	position: fixed	
	bottom: 24vh
	
#account a.user-link
	float: right

#account img.user-picture
	width: 3em
	height: 3em
	border-radius: 50%
	position: relative
	//top: 0.7em
	margin-left: 0.5em

#account .user-userName
	font-size: 1.5em

#account .user-displayName
	color: midColor

#account-controls
	position: fixed
	width: 36vw
	bottom: 20vh
	
#take
#more
	display: none

#start
	width: 82.5vh
	position: relative
	height: 82.5vh
	max-width: 54vw
	max-height: 54vw
	min-width: 30vw
	min-height: 30vw
	cursor: pointer

#start a#logo-link
	display: block
	position: absolute
	left: 50%
	top: 50%
	transform: translate(-50%, -50%)
	cursor: default

#start #logo
	width: calc(66.608vw / 10)
	height: calc(90vw / 10)
	display: block

#start #logo-icon
	cursor: pointer

#start #logo-icon:active
	opacity: 0.75

#start h1
	display: none

/*
	Post 								

*/									

.post
	background-color: backColor
	//background-color: inherit // #F05 Truco de maquetación
	//width: calc(82vh + .5px) // Correción de pixel fracional
	width: 82.5vh
	max-width: 54vw
	// margin-bottom: 3vh
	border-bottom: 2.5vh solid back1Color // 3vh +1 corrección. Prueba estático 32px
	min-width: 30vw
	position: relative

.post .view
	background-color: back1Color
	width: 100%
	//height: calc(82vh + .5px) // Correción de pixel fracional
	height: 82.5vh
	max-width: 54vw
	max-height: 54vw
	min-width: 30vw
	min-height: 30vw
	position: relative

.post .view .media
	width: 100%
	height: 100%
	display: block
	opacity: 0
	transition: opacity 100ms
	user-select: none
	// cursor: pointer

.post .view.loaded
	background-color: backColor
	
.post .view.loaded .media
	opacity: 1

.post .view .preloader-animation
	width: 10%
	height: 10%
	border-radius: 50%
	position: absolute
	left: 50%
	top: 50%
	transform: translate(-50%, -50%)
	animation: preloader 750ms linear infinite // Infinite Genera parpadeo en chrome debug cambiar por otra cosa

.post .view.loaded .preloader-animation
	display: none

/*
	Post -> Info

*/

.info
	background-color: backColor
	color: frontColor
	width: 100%
	height: 15vmin // Evaluar si sirve. Probar 12vmin
	min-height: 72px // 64px
	display: table
	table-layout: fixed

.info .author-picture,
.info .post-info,
.info .save-button
	display: table-cell
	vertical-align: middle

.info .author-picture
	width: 18%
	padding: 2.5%

.info .author-picture img
	display: block
	border-radius: 50%
	margin: 0 auto
	width: 100%
	user-select: none

.info .post-info
	padding-left: 4% // 0.5em

.info h3.post-title
	overflow: hidden
	white-space: nowrap
	text-overflow: ellipsis
	text-align: left

.info h3.post-title .author-name
	font-weight: bold

.info h3.post-title .author-hex-code
	content: ''
	display: inline-block
	border-radius: 50%
	width: 0.8em
	height: 0.8em
	margin: 0 0.3em 0 0

.info .post-time
	font-size: 1.75vmin
	color: midColor
	user-select: none
	// letter-spacing: -0.02em

.info .save-button
	width: 20%

.info a.save-post-link
	display: block
	border-radius: 50%

.info a.save-post-link .save
	display: block
	background-color: midColor
	border-radius: 50%
	width: 50%
	margin: 0 auto
	transition: background-color 100ms
	transition-timing-function: ease-out
	user-select: none

.info a.save-post-link.saved .save
	background-color: back1Color
	border-color: back2Color

.post-tools
	width: 100%
	height: 100%
	position: absolute
	bottom: 0
	text-align: right
	// mix-blend-mode: hard-light
	// background: linear-gradient(to right, rgba(0,0,0,.4) 0%, rgba(0,0,0,.8) 100%)
	background-color: rgba(0,0,0,.8)
	color: backColor
	transition: opacity 100ms
	opacity: 0
	visibility: hidden;

/*@keyframes example
	from
		background-color: rgba(0,0,0,0)
	to
		background-color: rgba(0,0,0,.7)
	
.post.tools .post-tools
	animation-name: example
	animation-duration: 100ms
	animation-fill-mode: forwards
*/
.post.tools .post-tools
	visibility: visible;
	opacity: 1

.post-tools ul
	margin: 0
	padding: 0
	list-style: none
	position: absolute
	bottom: 0
	right: 0
	width: 100%
	height: 100%
	display: flex
	flex-direction: column-reverse

.post-tools ul li
	margin: 0 0 4.8% 0
	height: 9.6%
	transition: margin 100ms
	
.post.tools .post-tools ul li
	margin: 0 0 7.2% 0

.post-tools ul li span
.post-tools ul li svg.icon
	vertical-align: middle

.post-tools ul li svg.icon
	background-color: front2Color
	border-radius: 50%
	width: 9.6%
	height: 100%
	display: inline-block
	margin: 0 4.8%
	
.post.tools .info a.save-post-link .save
	background-color: back1Color
	//width: 50%

#end
	display: none
	
#end.show
	display: block

#end #endMessage
	text-align: center
	margin: 5vh 0 8vh 0

svg#svg-library
	display: none

/*

	V 3.0

*/

a
	color: inherit
	text-decoration: none

a:hover
	color: inherit

a
input
div // TODO: Evaluar elementos a los que se aplica
	-webkit-tap-highlight-color: transparent

/*
 * Estilos específicos
 * ------- -----------
 *
 *
 *
 * Cabecera
 *
 */

/*
 * Principal
 *
 */

/*
 * Controles
 */

/*section#options-side
	text-align: right
	width: 100%
*/
/*section#account-controls section#profile
	width: 100%
	display: table
	margin-bottom: 40px

section#account-controls section#profile img
section#account-controls section#profile h2
	display: table-cell
	vertical-align: middle
*/
/*section#account-controls section#profile h2.profile-name
	width: 100%
	margin: 0
	padding: 5px 10px 0 0
	font-size: 21px
	line-height: 24px
	overflow: hidden
	text-overflow: ellipsis
	font-weight: normal
	letter-spacing: -0.5px
*/

/*section#account-controls section#profile h2.profile-name .profile-firstname
	font-size: 24px
	color: frontColor*/

/*
 * Vista
 */

/*
 * Eventos
 */


/*
aside section#events-controls .events-list.show-more
	overflow: none
	position: relative
	overflow-y: scroll
	overflow-x: hidden

aside section#events-controls .title
	font-size: 11px
	//margin: 10px 0

aside section#events-controls .events-title
	font-size: 14px

aside section#events-controls .event
	padding: 8px 0

aside section#events-controls .event .action-tag.small
	font-size: 14px

aside section#events-controls .event .event-people
	font-size: 11px
	margin-left: 15px

aside section#events-controls .show-more
	text-align: center
*/

/*
 * Controles flotantes
 */
/*
nav#view-menu
	transition: background-color 250ms linear
	width: 100%
	display: none
	text-align: center
	position: fixed
	bottom: 0
	z-index: 10

nav#view-menu .view-button
	display: table-cell
	height: 44px

nav#view-menu .view-button.first
nav#view-menu .view-button.middle
nav#view-menu .view-button.last
	width: 44px
	padding: 10px

nav#view-menu .view-button .button
	background-image: url('/images/sprite.svg')
	background-size: auto cover
	width: 44px
	height: 44px
	margin: 0 auto
	cursor: pointer
	border-radius: 100%
	background-color: rgba(255,255,255,0.5)

nav#view-menu #button-options
	background-position: 0px
nav#view-menu #button-posts
	background-position: 176px
nav#view-menu #button-camera
	background-position: 132px
nav#view-menu #button-events
	background-position: 88px
nav#view-menu #button-search
	background-position: 44px
*/

/*
 * Pie
 */
footer
	position: fixed
	width: 36vw
	bottom: 5vh
	font-size: 12px

footer a#brand-url
	font-family: Tahoma
	font-size: 2em
	margin: 1vh 0
	display: block

footer #brand
	margin: 5px 0
	
/*
 * Vistas de la aplicación
 */
 
// NEW-POST

input#media-loader
	visibility: hidden
	position: absolute
	display: none

/*section#over-controls
	width: 83vh
	position: absolute*/
	
#up
	width: 32px
	height: 32px
	background-color: frontColor
	border-radius: 50%
	position: fixed
	transform: translate(-50%,0)
	left: 50%
	z-index: 1
	bottom: 96px
	opacity: 0
	transition: bottom 200ms ease, opacity 200ms ease
	border: 2px solid backColor
	box-shadow: 0 2px 1px rgba(0,0,0,.2)
	cursor: pointer
	
.scrollingUp #up
	bottom: 70px
	opacity: 1

section#post-preview
	display: none

section#post-preview
//section#post-preview .view
section#post-preview #post-preview-controls
	background-color: back2Color

section#post-preview #post-preview-controls #post-name-input
section#post-preview #post-preview-controls #share
section#post-preview #post-preview-controls #send-post
	display: table-cell
	vertical-align: middle

section#post-preview #post-preview-controls #post-name-input
	display: table
	width: 98%
	height: 100%
	position: relative

section#post-preview #post-preview-controls #post-name-input label.at-simbol
	letter-spacing: -0.5px
	display: table-cell
	vertical-align: middle
	height: 24px
	font-family: 'Verdana', sans-serif
	width: 1em

section#post-preview #post-preview-controls #post-name-input input#new-tag
	background-color: back2Color
	color: frontColor
	//width: calc(100% - 36px)
	width: 100%
	border: none
	padding: 0
	margin: 0
	display: block
	outline: none
	border-radius: 0
	font-size: 2.5vmin
	height: 100%
	transition: background-color 200ms
	overflow: hidden
	white-space: nowrap
	text-overflow: ellipsis

section#post-preview #post-preview-controls #post-name-input input#new-tag:focus 
section#post-preview #post-preview-controls #post-name-input input#new-tag:focus + #share a.share-icon
	background-color: back2Color

section#post-preview #post-preview-controls #post-name-input input#new-tag
	+placeholder()
		color: midColor

section#post-preview #post-preview-controls #share
	width: 44px
	height: 44px

section#post-preview #post-preview-controls #share a.share-icon
	width: 24px
	height: 24px
	padding: 10px
	margin: 0
	display: block
	transition: background-color 200ms

section#post-preview #post-preview-controls #share a#share-fb.share #back
	fill: auxFbColor

section#post-preview #post-preview-controls #share a#share-fb.share #f
	fill: front1Color

section#post-preview #post-preview-controls #send-post
	text-align: center
	/*text-transform: uppercase*/
	/*font-weight: bold*/
	width: 22.5%

/*
 * Control de vistas
 */

// .config-view

body.config-view #box #post-preview
body.config-view #box #post-list
	display: none
body.config-view #box 
	display: block

// .posts-view

body.posts-view #box 
body.posts-view #box #post-preview
	display: none
body.posts-view #box #post-list
	display: block

// .new-post-view

// body.new-post-view #box #side
body.new-post-view #box #post-list
	display: none

@media screen and (max-width: 480px)
	body.new-post-view #box #post-preview
		display: block

// .events-view

body.events-view #box #side
body.events-view #box #post-preview
body.events-view #box #post-list
	display: none

/*
 * Responsive
 */

/*@media screen and (min-width: 481px) and (max-height: 480px)
	#account
	#account-controls
	footer
		display: none*/

@media screen and (max-width: 1000px) , screen and (max-height: 700px)
	h3
		font-size: 16px
		transition: font-size 100ms
		margin: 0.3em 0 0 0

	.info .post-time
		font-size: 12px

@media screen and (min-width: 481px)
	@keyframes preloader
		0%
			box-shadow: 0 0 0 0 rgba(0,0,0,0)
		50%
			box-shadow: 0 0 0 1vw rgba(0,0,0,0.1)
		100%
			box-shadow: 0 0 0 1vw rgba(0,0,0,0.05)
	
	@keyframes preloaderDark
		0%
			box-shadow: 0 0 0 0 rgba(255,255,255,0)
		50%
			box-shadow: 0 0 0 1vw rgba(255,255,255,0.1)
		100%
			box-shadow: 0 0 0 1vw rgba(255,255,255,0.05)
	
	::-webkit-scrollbar 
		width: 20px

	::-webkit-scrollbar-track
		background: backColor

	::-webkit-scrollbar-thumb 
		background: back1Color

	::-webkit-scrollbar-thumb:window-inactive
		background: aux1color

@media screen and (max-width: 480px)
	aside
		z-index: 1
		top: 0
		margin-top: 0
		transition: height 200ms cubic-bezier(0.4, 0, 0.2, 1)
		/* box-shadow: 0 -4px 16px rgba(0,0,0,0.1) // Reemplazado por border-top */
		/* border-top: 1px solid rgba(127,127,127,.25); // Descartado */
		height: 52px
		position: absolute
		overflow: hidden
		background-color: backColor
		text-align: center
	
	aside.show
		height: 340px
	
	aside section#view-controls
	aside section#account
	aside section#account-controls
	aside footer
		margin: 0 0 1.5em 0
		position: static
		width: 100vw

	aside section#account a.user-link
		float: none

	aside section#account a.user-link img
		display: block
		margin: 0 auto
	
	#account img.user-picture
		width: 5em
		height: 5em

	section#view-controls
		height: 52px
		min-height: 52px
	
	#take
		width: 52px
		height: 52px
		display: block
		position: absolute
		transform: translateX(50%)
		right: 50%
		bottom: 0
		border-radius: 50%
		margin-bottom: 8px
		background-color: frontColor
		//box-shadow: 0 2px 1px rgba(0,0,0,.2)

	#take:before
	//#take:after
		content: ''
		position: absolute
		top: 50%
		left: 50%
		transform: translate(-50%, -50%)
		background-color: backColor

	#take:before
		width: 44px
		height: 44px
		border-radius: 50%

	/*#take:before // Signo mas
		width: 5%
		height: 50%
	
	#take:after
		height: 5%
		width: 50%*/

	#back
		width: 52px
		height: 52px
		position: absolute
		left: 0
		top: 0
		display: block
		z-index: 1
		cursor: pointer

	#back:before
		content: ''
		width: 10px
		height: 10px
		position: absolute
		top: 21px
		left: 24px
		border-top: 2px solid frontColor
		border-left: 2px solid frontColor
		transform: rotate(-45deg)
		transition: transform 200ms

	#more
		display: block
		width: 52px
		height: 52px
		right: 0
		top: 0
		cursor: pointer
		position: absolute
	
	i.more-back
		width: 32px
		height: 32px
		border-radius: 50%
		display: block
		margin: 10px
		background-color: backColor
		transition: background-color 100ms

	aside.show i.more-back
		background-color: mainColor
		
	#more i.more-icon:before
	#more i.more-icon:after
		content: ''
	
	#more i.more-icon
	#more i.more-icon:after
	#more i.more-icon:before
		background-color: frontColor
		width: 4px
		height: 4px
		position: absolute
		left: 50%
		display: block
		transform: translateX(-50%)
		border-radius: 50%

	#more i.more-icon
		top: 18px
	
	#more i.more-icon:before
		top: 6px
		
	#more i.more-icon:after
		top: 12px

	input#title
		font-size: 1em
		display: block
		margin: 0
		height: 52px
		padding: 0 80px 0 80px
		width: calc(100% - 160px)
		font-family: 'Verdana'
		text-align: left
		-webkit-appearance: none
		-moz-appearance: none
		appearance: none
		top:0
		transform: none

	input#title:focus
	input#title:hover
		background-color: backColor
		color: frontColor

	input#title:hover
		+placeholder()
			background-color: backColor
			color: frontColor

	/*#account img.user-picture
		margin: 0.375em
		position: static*/

	h3
		font-size: 4.5vw
		transition: font-size 100ms
	
	section#post-preview #post-preview-controls #send-post
	section#post-preview #post-preview-controls #post-name-input input#new-tag
		font-size: 5vmin	
	
	.info
		/*background-color: backColor*/
		color: frontColor

	.info .author-picture
		width: 22.5%
		padding: 2.5%

	#box
		display: block /* Mejor control de la barra de scroll */

	main
		overflow-y: auto
		overflow-x: hidden
		-webkit-overflow-scrolling: touch
		height: calc(100vh - 52px)
		display: block
		position: relative
		top: 52px
		font-size: 5vmin
		//transition: height 200ms
		-webkit-transform: translate3d(0,0,0)
	
	main,
	.post,
	.post .view,
	#start
		width: 100%

	#start #logo
		min-width: 66.608px
		min-height: 90px

	.post
		max-width: inherit
		border-bottom-width: 16px

	@keyframes preloader
		0%
			box-shadow: 0 0 0 0 rgba(0,0,0,0)
		50%
			box-shadow: 0 0 0 3vw rgba(0,0,0,0.1)
		100%
			box-shadow: 0 0 0 3vw rgba(0,0,0,0.05)
	
	@keyframes preloaderDark
		0%
			box-shadow: 0 0 0 0 rgba(255,255,255,0)
		50%
			box-shadow: 0 0 0 3vw rgba(255,255,255,0.1)
		100%
			box-shadow: 0 0 0 3vw rgba(255,255,255,0.05)

	.post .view,
	#start
		height: 100vw
		max-width: inherit
		max-height: inherit

	/*.info .author-name
		margin-right: 2px*/

	.info h3.post-title .author-name::before
		width: 3.5vw
		height: 3.5vw
		margin: 0 1vw 0 0

	.info .post-info
		padding-left: 2% // 0.5em
		
	.info .post-time
		font-size: 3.5vw
		
@media screen and (max-width: 360px)
	h3
		font-size: 16px
	
	.info .post-time
		font-size: 12px

@media screen and (max-height: 520px)
	#side
		position: absolute
		top: -52px
		transition: top 200ms ease
	
	.scrollingUp #side
		top: 0

@media screen and (max-width: 480px) and (max-height: 520px)
	main
		transition: top 200ms ease, height 200ms ease
		top:0
		height: 100vh
	
	.scrollingUp main
		top: 52px
		height: calc(100vh - 52px)

/*
	Temas

*/

body.dark
body.dark input#title
	background-color: frontColor
	color: backColor

body.dark input#title:hover
	+placeholder()
		background-color: front1Color
		color: backColor

body.dark input#title:hover
	background-color: front1Color

body.dark input#title:focus
	background-color: front1Color
	color: backColor

body.dark input#title
	+placeholder()
		color: backColor
		
body.dark input#title:hover
	+placeholder()
		color: rgba(255,255,255,0.5)
	
body.dark .post
	border-bottom-color: aux1color

body.dark .post .view
	background-color: front1Color
	
body.dark .post .view .preloader-animation
	animation: preloaderDark 750ms linear infinite // Infinite Genera parpadeo en chrome debug cambiar por otra cosa

body.dark .info
	background-color: frontColor
	color: backColor

body.dark .info a.save-post-link.saved .save
	background-color: front1Color
	border-color: front2Color

body.dark section#post-preview canvas.media
	background-color: front2Color

body.dark section#post-preview #post-preview-controls #post-name-input input#new-tag
	background-color: front1Color
	color: backColor

body.dark section#post-preview #post-preview-controls #post-name-input input#new-tag:focus 
body.dark section#post-preview #post-preview-controls #post-name-input input#new-tag:focus + #share a.share-icon
	background-color: front2Color

body.dark section#post-preview #post-preview-controls #share a.share-icon
	background-color: front1Color

body.dark section#post-preview #post-preview-controls #share a#share-fb.share #f
	fill: backColor

.dark::-webkit-scrollbar 
	width: 20px

.dark::-webkit-scrollbar-track
	background: frontColor

.dark::-webkit-scrollbar-thumb 
	background: front1Color

.dark::-webkit-scrollbar-thumb:window-inactive
	background: aux1color
