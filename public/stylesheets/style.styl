@import 'nib'

/*
 * Variables
 * ---------
 */
 
/* Color puro					Trasnparencia
backColor 	= #FFF		= #FFF
layerColor	= #F3F3F5	= rgba(0, 0, 0, .05)
icoColor 		=	#D3D3D5	=	rgba(0, 0, 0, .20)
fontColor		= #333		= rgba(0, 0, 0, .80)
accentColor = #F05		= #F05
hardColor		= #555		= rgba(0, 0, 0, .70)
softColor		= #AAA		= rgba(0, 0, 0, .35) // El textp no se ve claro en Chrome en Windows
*/

backColor 	= #FFF
layerColor	= #F3F3F5
icoColor		=	rgba(0, 0, 0, .20)
fontColor		= #333
accentColor = #F05
hardColor		= #555
softColor		= #AAA
fbColor			= #3b5998

/* 
 * Estilos generales
 * ------- ---------
 */
body
	//background-color: #EAEAEE // Cálido: #EEEEE7, Original: #DDE0EA
	//background-color: #F3F3F5 // NEW MAC
	//background-color: backColor
	color: fontColor
	font-family: Arial, sans-serif
	font-size: 14px
	margin: 0
	padding: 0

html
body
	width: 100%
	height: 100%
	
a
	color: inherit
	text-decoration: none

a:hover
	color: inherit

a
input
div // TODO: Evaluar elementos a los que se aplica
	-webkit-tap-highlight-color: transparent

#wrapper .event
	font-size: 17px
	color: accentColor
	letter-spacing: -0.5px

#wrapper .event .at-simbol
	font-family: Verdana, Arial, sans-serif

#wrapper .event .event-name
	overflow: hidden
	white-space: nowrap
	text-overflow: ellipsis
	
#wrapper .event .event-people
	letter-spacing: initial

/*
 * Estilos específicos: /index
 * ------- -----------
 */

/*
 * Cabecera
 */
header
	background-color: backColor
	width: 100%
	padding: 10px 0
	position: fixed
	z-index: 10
	top: 0

header #title a
	background-image: url('/images/juaku.svg?v=1005')
	background-repeat: no-repeat
	background-size: 120px 45px
	width: 120px
	height: 45px
	display: block
	margin: 0 auto

header #title a h1
	display: none

/*
 * Principal
 */
main
	width: 100%
	top: 65px
	//bottom: 44px TODO: Evaluar si es necesario
	bottom: 0px
	position: absolute
	overflow: auto
	overflow-x: hidden
	-webkit-overflow-scrolling: touch

main #wrapper
	background-color: backColor
	width: 100%
	max-width: 940px
	margin: 0 auto
	display: table

aside
section#view
	display: table-cell
	vertical-align: top

aside
	width: 200px
	padding: 10px

aside#first
	transition: width 500ms

aside #people-side
aside #events-side
	width: inherit
	display: inline-block
	position: fixed
	top: 65px // Android Web Browser

/*
 * Controles
 */
section#people-side
	text-align: right

section#people-controls section#profile
	background-color: backColor
	width: 100px
	height: 170px
	text-align: left
	display: inline-block

section#people-controls section#profile img
	background-color: layerColor
	width: 100px
	height: 100px

section#people-controls section#profile h2.profile-name
	margin: 5px
	font-size: 14px
	line-height: 14px
	overflow: hidden
	text-overflow: ellipsis
	font-weight: normal

section#people-controls section#profile h2.profile-name .profile-firstname
	font-size: 13px
	font-weight: bold

section#people-controls section#profile h2.profile-name .profile-lastname
	font-size: 12px
	font-weight: normal

/*
 * Vista
 */

section#view
	background-color: layerColor
	padding-bottom: 50px
	max-width: 530px
	height: 100%
	position: relative // MAC X Scroll
	z-index: 1 // MAC X Scroll

section#view section#post-list .post
	margin-bottom: 20px // NEWLOGO

section#view section#post-list .post div.media
	position: relative // Muestra espacio de img

section#view section#post-list .post div.media img
	width: 100%
	display: block // En lugar de font-size: 0

section#view section#post-list .post div.media img.media // Muestra espacio de img
	position: absolute
	top: 0
	left: 0
	opacity: 0
	transition: opacity 500ms linear
	//transition: opacity 1000ms // TODO: Fantasmas en Android e IE
	
section#view section#post-list .post div.media img.media.show
	opacity: 1

section#view section#post-list .post div.media .preloader
	width: 30px
	height: 30px
	border-radius: 30px
	position: absolute
	top: 50%
	left: 50%
	margin: -15px
	animation: preloader 750ms linear infinite // Infinite Genera parpadeo en chrome debug cambiar por otra cosa

@keyframes preloader
	0%
		box-shadow: 0 0 0 10px rgba(0,0,0,0.01)
	50%
		box-shadow: 0 0 0 10px rgba(0,0,0,0.05)
	100%
		box-shadow: 0 0 0 10px rgba(0,0,0,0.01)

section#view section#post-list .post .bottom
	background-color: backColor
	width: 100%
	height: 30px
	display: table
	table-layout: fixed // Andorid

section#view section#post-list .post .bottom .info
	display: table-cell
	vertical-align: top
	
section#view section#post-list .post .bottom .info .info-wrapper
	display: table
	width: 100%
	table-layout: fixed // Android

section#view section#post-list .post .bottom .author-img
section#view section#post-list .post .bottom .post-detail
	vertical-align: top

section#view section#post-list .post .bottom .author-img
	display: table-cell
	width: 55px // Android

section#view section#post-list .post .bottom .author-img img
	width: 55px
	height: 55px
	background-color: backColor //#EEE
	display: block //En lugar de font-size: 0

section#view section#post-list .post .bottom .post-detail
	display: table
	table-layout: fixed
	width: 100%
	padding: 12px 0 0 0
	letter-spacing: -0.5px

section#view section#post-list .post .bottom .post-detail .post-title
section#view section#post-list .post .bottom .post-detail .sub-info
	padding-left: 10px
	padding-right: 5px

section#view section#post-list .post .bottom .post-detail .post-title
	font-size: 18px
	color: accentColor
	overflow: hidden
	white-space: nowrap
	text-overflow: ellipsis
	margin-top: -1px

section#view section#post-list .post .bottom .post-detail .post-title .author-name
	color: hardColor
	font-size: 16px
	font-weight: bold
	
section#view section#post-list .post .bottom .post-detail .post-title .author-name .author-lastName
	display: none

section#view section#post-list .post .bottom .post-detail .post-title .event-posted
	max-width: 70%

section#view section#post-list .post .bottom .post-detail .sub-info
	font-size: 12px
	color: softColor
	margin-top: 1px

section#view section#post-list .post .bottom .post-detail .sub-info .time
	display: inline-block	

section#view section#post-list .post .bottom .like object // Para que no se corte el texto
	width: 55px
	height: 55px

section#view section#post-list .post .bottom .like
	width: 55px // Firefox, Android Browser
	display: table-cell
	vertical-align: bottom

section#view section#post-list .post .bottom .like .like-svg
	width: 55px
	height: 55px
	cursor: pointer
	display: block // En lugar de font-size: 0

section#view section#post-list .post .bottom .like .like-svg #inner
	fill: icoColor
	transition: fill 250ms

section#view section#post-list .post .bottom .like .selected .like-svg #inner
	fill: accentColor

/*
 * Eventos
 */
aside section#events-controls
	background-color: backColor

aside section#events-controls .promoted
aside section#events-controls .events-list
aside section#events-controls .show-more
	padding: 10px

aside section#events-controls .title
	font-size: 11px
	color: softColor
		
aside section#events-controls .events-title
	font-size: 14px

aside section#events-controls .event
	margin: 5px 0

aside section#events-controls .event .event-name.small
	font-size: 14px

aside section#events-controls .event .event-people
	font-size: 11px
	color: softColor
	margin-left: 15px

aside section#events-controls .show-more
	text-align: center

/*
 * Controles flotantes
 */
nav#float-controls
	background-color: backColor
	transition: background-color 250ms linear
	width: 100%
	display: none
	text-align: center
	position: fixed
	bottom: 0
	z-index: 10

nav#float-controls .control
	display: table-cell
	height: 44px

nav#float-controls .control.first
nav#float-controls .control.middle
nav#float-controls .control.last
	width: 44px

nav#float-controls .control .button
	background-image: url('/images/sprite.svg')
	background-size: auto cover
	width: 44px
	height: 44px
	margin: 0 auto
	cursor: pointer

nav#float-controls .control .button.selected
	background-color: layerColor

nav#float-controls #button-options
	background-position: 0px
nav#float-controls #button-posts
	background-position: 176px
nav#float-controls #button-camera
	background-position: 132px
nav#float-controls #button-events
	background-position: 88px
nav#float-controls #button-search
	background-position: 44px

/*
 * Pie
 */
footer
	color: softColor
	margin: 10px 5px
	font-size: 12px

footer #brand
	margin: 5px 0
	
/*
 * Vistas de la aplicación
 */
 
// NEW-POST

input#media-loader
	visibility: hidden
	position: absolute

section#new-post
	display: none

section#new-post canvas#new-media-preview
	width: 100%

section#new-post #positionMap img
	width: 100%

section#new-post canvas#new-media-preview
	width: 100%
	height: 100vw
	display: block

section#new-post #new-post-controls
	background-color: backColor
	width: 100%
	height: 44px
	display: table

section#new-post #new-post-controls #event-name-input
section#new-post #new-post-controls #share-new-post
section#new-post #new-post-controls #send-post
	display: table-cell
	vertical-align: middle

section#new-post #new-post-controls #event-name-input
	display: table
	width: 100%

section#new-post #new-post-controls #event-name-input *
	font-size: 17px
	color: accentColor
	letter-spacing: -0.5px

section#new-post #new-post-controls #event-name-input span.at-simbol
section#new-post #new-post-controls #event-name-input input#new-event-name
	display: table-cell
	vertical-align: middle
	height: 24px

section#new-post #new-post-controls #event-name-input span.at-simbol
	// text-align: right
	padding: 10px 0 10px 10px
	width: 1px

section#new-post #new-post-controls #event-name-input input#new-event-name
	width: 95%
	border: none
	padding: 10px 0
	margin: 0
	display: block
	outline: none
	border-radius: 0

placeholder()
	&::-webkit-input-placeholder
		{block}
	&:-moz-placeholder
		{block}
	&::-moz-placeholder
		{block}
	&:-ms-input-placeholder
		{block}

section#new-post #new-post-controls #event-name-input input#new-event-name
	+placeholder()
		color: icoColor
		border-bottom: 1px solid layerColor

section#new-post #new-post-controls #share-new-post
	width: 24px
	// background-color: layerColor

section#new-post #new-post-controls #share-new-post .share
	width: 24px
	height: 24px
	margin: 8px
	display: block

section#new-post #new-post-controls #share-new-post .share #change-color
	fill: softColor

section#new-post #new-post-controls #share-new-post .share.selected #change-color 
	fill: fbColor
	
section#new-post #new-post-controls #send-post
	text-align: center
	text-transform: uppercase
	font-weight: bold
	font-size: 11px
	padding: 2px 15px 0 15px

/*section#new-post #suggested-events
	text-align: center*/

section#new-post #suggested-events ul
	margin: 0
	padding: 0 0 5px 0
	
section#new-post #suggested-events ul li.suggested-event
	background-color: rgba(255, 255, 255, 0.5)
	margin: 1px 0
	padding: 4px 10px
	list-style: none

/*
 * Control de vistas
 */

// .config-view

body.config-view main #new-post
body.config-view main #post-list
body.config-view main #last
	display: none
body.config-view main #first
	display: block

// .posts-view

body.posts-view main #first
body.posts-view main #new-post
body.posts-view main #last
	display: none
body.posts-view main #post-list
	display: block

// .new-post-view

body.new-post-view main #first
body.new-post-view main #last
body.new-post-view main #post-list
	display: none
body.new-post-view main #new-post
	display: block

// .events-view

body.events-view main #first
body.events-view main #new-post
body.events-view main #post-list
	display: none
body.events-view main #last
	display: block

/*
 * Responsive
 */ 

@media (max-width: 779px) 
	main
		min-width: 650px
	aside#first
		width: 110px

@media (max-width: 669px) 
	body
		user-select: none // TODO: Pasar a un detector real de dispositivos
		background-color: layerColor
		
	main
		min-width: 290px
		bottom: 44px

	aside#first,
	aside#last
		display: none
			
	main #wrapper
		width: 100%
		max-width: inherit
	
	aside
		padding: 10px 0
	
	aside #people-side,
	aside #events-side
		position: inherit

	section#view
		display: block
		margin: 0 auto
	
	section#view // NEWLOGO
		padding: 0 
	
	nav#float-controls
		display: table

@media (max-width: 375px)
	main
		top: 44px
	
	header
		padding: 4px 0 5px 0

	header #title a
		background-size: 93px 35px
		width: 93px
		height: 35px
	
	/* Control de vistas */
	body.new-post-view header
		display: none
	body.new-post-view main
		top: 0
